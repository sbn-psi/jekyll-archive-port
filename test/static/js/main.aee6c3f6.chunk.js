(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{19:function(e,t,a){e.exports=a(46)},28:function(e,t,a){},46:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a(2),l=a(5),c=a(3),s=a(6),i=a(0),o=a.n(i),m=a(17),u=(a(28),a(4)),d="https://sbnpds4.psi.edu/solr",p="https://pds.nasa.gov/services/search",E={datasetWeb:"".concat(d,"/").concat("web-datasets","/select"),datasetCore:"".concat(d,"/").concat("pds","/select"),targetsWeb:"".concat(d,"/").concat("web-targets","/select"),targetsCore:"".concat(p,"/search"),instrumentsWeb:"".concat(d,"/").concat("web-instruments","/select"),instrumentsCore:"".concat(p,"/search"),spacecraftWeb:"".concat(d,"/").concat("web-instrumenthosts","/select"),spacecraftCore:"".concat(p,"/search"),missionsWeb:"".concat(d,"/").concat("web-investigations","/select"),missionsCore:"".concat(p,"/search")},f=a(18),h=a.n(f);function v(e){for(var t=0,a=Object.entries(e);t<a.length;t++){var n=a[t],r=Object(u.a)(n,2),l=r[0],c=r[1];g(l,c)&&(e[l]=c[0]),e[l].constructor===Object&&(e[l]=v(e[l])),_.includes(l)&&(e[l]=e[l].map(function(e){return v(e)}))}return e}function g(e,t){return!b.includes(e)&&t.constructor===Array&&1===t.length&&t[0].constructor===String||!_.includes(e)&&t.constructor===Array&&1===t.length&&t[0].constructor===Object}var b=[],_=["tags","related_tools","related_data","superseded_data","download_packages"],w=function(e){return e.response.docs&&e.response.docs.length>0?e.response.docs.map(v):null},N=function(){return{wt:"json"}};function y(e,t){var a=Object.assign(N(),t);return new Promise(function(t,n){return h.a.get(e,{params:a}).then(function(e){return t(w(e.data))},n)})}function j(e){var t=function(e){return new Promise(function(t,a){a(new Error(e))})};return e&&e.constructor===Array||t("Expected array of endpoints to call"),2!==e.length&&t("Expected only two endpoints to call"),new Promise(function(t,a){var n=e.map(function(e){return y(e.url,e.params)});console.log("calling ".concat(e.map(function(e){return e.url+"\n"}))),Promise.all(n).then(function(e){var n=Object(u.a)(e,2),r=n[0],l=n[1];if(r)if(1===l.length&&1===r.length){var c=Object.assign({},r[0]);t(Object.assign(c,l[0]))}else a(new Error("Received unexpected number of results\n                \n                ".concat(l.map(function(e){return e.logical_identifier}).join("\n"),"\n                ").concat(r.map(function(e){return e.lid}).join("\n"),"\n                ")));else a(new Error("None found"))},function(e){a(e)})})}function O(e){var t=e?e.split("::"):[null,null],a=Object(u.a)(t,2),n=a[0],r=a[1];if(!n)return new Promise(function(e,t){return t(new Error("Expected dataset parameter"))});var l=n.replace(/:/g,"\\:");return j([{url:E.datasetCore,params:{q:'lid:"'.concat(l,'"')}},{url:E.datasetWeb,params:{fl:"*,[child parentFilter=attrname:dataset]",wt:"ujson",q:'logical_identifier:"'.concat(l).concat(r?"\\:\\:"+r:"",'"')}}])}function k(e){var t=e.error;return o.a.createElement("div",{className:"error"},t.message?t.message:t)}var D=function(e){function t(e){var a;Object(n.a)(this,t),a=Object(l.a)(this,Object(c.a)(t).call(this,e));var r=e.dataset;return a.state={loaded:!1,lids:r.collection_ref,collections:r.collection_ref.map(function(e){return{lid:e}})},a}return Object(s.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this;(function(e){var t={fl:"*,[child parentFilter=attrname:dataset]",wt:"ujson",q:e.reduce(function(e,t){return e+"logical_identifier:"+t.replace(/:/g,"\\:")+" "},"")};return y(E.datasetWeb,t)})(this.state.lids).then(function(t){t.length===e.state.collections.length?e.setState({collections:t,loaded:!0}):e.setState({error:{message:"Unexpected error searching for collections in this bundle"}})})}},{key:"render",value:function(){var e=this.state,t=e.error,a=e.collections,n=e.loaded;return t?o.a.createElement(k,{error:t}):o.a.createElement(P,{collections:a,loaded:n})}}]),t}(o.a.Component);function P(e){var t,a=e.collections;return t=e.loaded?a.map(function(e){return o.a.createElement("div",{key:e.logical_identifier,className:"collection collection-container"},o.a.createElement("div",{className:"header"},o.a.createElement("a",{href:"?dataset="+e.logical_identifier},o.a.createElement("span",{className:"collection-title",title:"Collection Title"},e.display_name),e.example&&o.a.createElement("span",{className:"example"},e.document_flag?o.a.createElement("span",{className:"file-label"},"Key Document:"):o.a.createElement("span",{className:"file-label"},"Example File:"),o.a.createElement("a",{href:e.example.url},e.example.title)))),o.a.createElement("div",{className:"actions"},e.download_url&&o.a.createElement("a",{href:e.download_url},o.a.createElement("img",{src:"/images/icn-download-rnd.png"}),e.download_size&&o.a.createElement("span",{className:"download-size"},"(",e.download_size,")"))))}):a.map(function(e){return o.a.createElement("div",{key:e.lid,className:"collection collection-container"},o.a.createElement("div",{className:"header"},o.a.createElement("a",{href:"?dataset="+e.lid},e.lid)))}),o.a.createElement("section",{className:"dataset-collections"},o.a.createElement("div",{className:"header"},o.a.createElement("div",null,o.a.createElement("span",{className:"type-title"},"In this dataset..."))),o.a.createElement("div",null,t))}var C=function(e){function t(e){var a;Object(n.a)(this,t),a=Object(l.a)(this,Object(c.a)(t).call(this,e));var r=e.isBundle,s=e.dataset;return a.state={dataset:s,isBundle:r,bundles:[],loaded:!1},a}return Object(s.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this;(function(e){var t={wt:"json",q:"objectType:Product_Bundle +collection_ref:"+e.replace(/:/g,"\\:")};return y(E.datasetCore,t)})(this.state.dataset.lid).then(function(t){e.setState({bundles:t,loaded:!0})},function(t){return e.setState({error:t})})}},{key:"render",value:function(){var e=this.state,t=e.isBundle,a=e.dataset,n=e.bundles,r=e.error;return r&&!t?o.a.createElement(k,{error:r}):o.a.createElement("div",{className:"family-links"},!t&&n.length>0&&o.a.createElement("div",null,o.a.createElement("img",{src:"/images/icn-bundle.png"}),"Part of",n.map(function(e){return o.a.createElement("a",{key:e.lid,className:"ignore-a-styling",href:"?dataset="+e.lid},o.a.createElement("span",null,e.title))})),o.a.createElement("div",null,a.other_instruments_url&&o.a.createElement("a",{className:"big-ugly-button",href:"?dataset=".concat(a.other_instruments_url)},"Other Instruments"),a.mission_bundle&&o.a.createElement("a",{className:"big-ugly-button",href:"?dataset=".concat(a.mission_bundle)},"Mission Information Bundle")))}}]),t}(o.a.Component);function S(e){var t=e.dataset,a=4===t.lid.split(":").length;return o.a.createElement("div",null,o.a.createElement(x,{dataset:t}),o.a.createElement(C,{dataset:t,isBundle:a}),o.a.createElement("div",{itemScope:!0,itemType:"https://schema.org/Dataset",className:"clearfix ".concat(a?"bundle-container":"collection-container")},o.a.createElement(q,{dataset:t}),o.a.createElement(A,{dataset:t}),o.a.createElement(z,{dataset:t,isBundle:a}),o.a.createElement(W,{dataset:t}),a&&o.a.createElement(D,{dataset:t}),o.a.createElement(M,{dataset:t}),o.a.createElement(T,{dataset:t}),o.a.createElement(R,{dataset:t})),o.a.createElement("div",{className:"related-references"},o.a.createElement(F,{dataset:t}),o.a.createElement(L,{dataset:t}),o.a.createElement(U,{dataset:t}),o.a.createElement(V,{dataset:t})))}function x(e){var t=e.dataset.tags;return o.a.createElement("div",{id:"taxonomy"},t.length>0&&o.a.createElement("h3",null,"Relevant Tags:"),t.map(function(e){return o.a.createElement("div",{className:"banner",key:e},o.a.createElement("a",{className:"ignore-a-styling",href:"#"},o.a.createElement("span",null," ",e," ")))}))}function q(e){var t=e.dataset.display_name;return o.a.createElement("h1",{itemProp:"name"},o.a.createElement("div",{className:"image-container"},o.a.createElement("img",{src:"/images/icn-bundle.png"})),o.a.createElement("div",{className:"resource-title"},t))}function A(e){var t=e.dataset.publication;return t&&t.delivery_info?o.a.createElement("div",{className:"dataset-delivery"},o.a.createElement("p",null,t.delivery_info),o.a.createElement("p",null,"Latest release date: ",o.a.createElement("span",{className:"datum"},t.publication_date))):null}function z(e){var t=e.isBundle,a=e.dataset;return o.a.createElement("aside",null,o.a.createElement("section",{className:"dataset-metadata"},t&&o.a.createElement("h2",null,"PDS4 Bundle"),!t&&o.a.createElement("h2",null,"PDS4 Collection"),o.a.createElement("p",null,"Status: ",o.a.createElement("br",null),o.a.createElement("span",{className:"datum"},a.publication.publish_status)),a.publication.publication_date&&o.a.createElement("p",null,"Date Published: ",o.a.createElement("br",null),o.a.createElement("span",{className:"datum",itemProp:"datePublished",itemScope:!0,itemType:"http://schema.org/Date"},a.publication.publication_date)),o.a.createElement("p",null,"Publisher:",o.a.createElement("br",null),o.a.createElement("span",{className:"datum",itemProp:"publisher",itemScope:!0,itemType:"http://schema.org/Organization"},"NASA Planetary Data System")),a.lidvid&&o.a.createElement("p",null,"PDS4 ID: ",o.a.createElement("br",null),o.a.createElement("span",{className:"datum"},a.lidvid)),a.doi&&o.a.createElement("p",null,"DOI: ",o.a.createElement("br",null),o.a.createElement("span",{className:"datum"},a.doi)),a.citation_author_list&&o.a.createElement(B,{authors:a.citation_author_list}),a.citation_editor_list&&o.a.createElement(I,{editors:a.citation_editor_list})),o.a.createElement("section",{className:"dataset-links"},a.browse_url&&o.a.createElement("a",{href:a.browse_url},o.a.createElement("img",{src:"/images/icn-folder.png"}),o.a.createElement("span",null," Browse All ")),a.download_url&&o.a.createElement("a",{href:a.download_url},o.a.createElement("img",{src:"/images/icn-download.png"}),o.a.createElement("span",null," Download All",a.download_size&&o.a.createElement("span",{className:"download-size"},"(",a.download_size,")"))),a.checksum_url&&o.a.createElement("a",{href:a.checksum_url},o.a.createElement("img",{src:"/images/icn-checksum.png"}),o.a.createElement("span",null," View Checksums "))))}function B(e){var t=e.authors.split(";");return o.a.createElement("p",null,"Author(s):",o.a.createElement("br",null),t.map(function(e){return o.a.createElement("div",{key:e,className:"datum",itemProp:"author",itemScope:!0,itemType:"http://schema.org/Person"},e.replace(" and ","").trim())}))}function I(e){var t=e.editors.split(";");return o.a.createElement("p",null,"Editor(s):",o.a.createElement("br",null),t.map(function(e){return o.a.createElement("div",{key:e,className:"datum",itemProp:"author",itemScope:!0,itemType:"http://schema.org/Person"},e.replace(" and ","").trim())}))}function W(e){var t=e.dataset.display_description;return o.a.createElement("h3",{itemProp:"description",className:"resource-description"},t)}function M(e){var t=e.dataset;return o.a.createElement("section",{className:"dataset-quicklinks"},t.local_documents_url&&o.a.createElement("div",null,o.a.createElement("h3",null,"View Local Documents"),o.a.createElement("a",{href:"{{data.localDocumentsUrl}}"},o.a.createElement("img",{src:"/images/icn-documents.png"}),o.a.createElement("span",null,"View Local Documents"))),t.example&&o.a.createElement("div",null,t.document_flag?o.a.createElement("h3",null,"Key Document"):o.a.createElement("h3",null,"Example File"),o.a.createElement("a",{href:t.example.url},t.example.thumbnail_url?o.a.createElement("img",{src:t.example.thumbnail_url}):o.a.createElement("img",{src:"/images/icn-file.png"}),o.a.createElement("span",null,t.example.title))))}function T(e){var t=e.dataset;return t.download_packages?o.a.createElement("section",{className:"dataset-downloads"},o.a.createElement("h3",null,"Download packages:"),o.a.createElement("ul",null,o.a.createElement("li",null,o.a.createElement("img",{src:"/images/icn-package.png"}),o.a.createElement("a",{href:t.download_url},o.a.createElement("span",null," Download All",t.download_size&&o.a.createElement("span",{class:"download-size"},"(",t.download_size,")")))),t.download_packages.map(function(e){return o.a.createElement("li",{key:e.download_url},o.a.createElement("img",{src:"/images/icn-package.png"}),o.a.createElement("a",{href:e.download_url},o.a.createElement("span",null," ",e.name,e.download_size&&o.a.createElement("span",{class:"download-size"},"(",e.download_size,")"))))}))):null}function R(e){var t=e.dataset.citation;return t?o.a.createElement("section",{className:"dataset-citation"},o.a.createElement("img",{className:"start-quote",src:"/images/quotes-start.png"}),o.a.createElement("div",null,o.a.createElement("p",null,"Use the following citation to reference this data set:"),o.a.createElement("p",{className:"citation"},'"',t,'"')),o.a.createElement("img",{className:"end-quote",src:"/images/quotes-end.png"})):null}function F(e){var t=e.dataset.pds3_version_url;return t?o.a.createElement("section",{className:"dataset-pds3"},o.a.createElement("h3",{className:"header"}," PDS3 versions of this dataset: "),o.a.createElement("a",{href:t},o.a.createElement("img",{className:"tiny-icon",src:"/images/icn-folder-rnd.png"}),"Click here to browse")):null}function L(e){var t=e.dataset.superseded_data;return t?o.a.createElement("section",{className:"dataset-superseded"},o.a.createElement("h3",{className:"header"}," Superseded versions of this data set: "),o.a.createElement("ul",null,t.map(function(e){return o.a.createElement("li",{key:e.browse_url},e.name,o.a.createElement("a",{href:e.browse_url},o.a.createElement("img",{className:"tiny-icon",src:"/images/icn-folder-rnd.png"})))}))):null}function U(e){var t=e.dataset.related_tools;return t?o.a.createElement("section",{className:"dataset-related"},o.a.createElement("h3",{className:"header"}," Related tools: "),o.a.createElement("ul",null,t.map(function(e){return o.a.createElement("li",{key:e.url},o.a.createElement("a",{href:e.url},e.name))}))):null}function V(e){var t=e.dataset.related_data;return t?o.a.createElement("section",{className:"dataset-related"},o.a.createElement("h3",{className:"header"}," Related data: "),o.a.createElement("ul",null,t.map(function(e){return o.a.createElement("li",{key:e.lid},o.a.createElement("a",{href:"?dataset="+e.lid},e.name))}))):null}function J(e){var t=e?e.split("::"):[null,null],a=Object(u.a)(t,2),n=a[0],r=a[1];if(!n)return new Promise(function(e,t){return t(new Error("Expected target parameter"))});var l=n.replace(/:/g,"\\:");return j([{url:E.targetsCore,params:{q:'identifier:"'.concat(l,'" AND data_class:"Target"')}},{url:E.targetsWeb,params:{q:'logical_identifier:"'.concat(l).concat(r?"\\:\\:"+r:"",'"')}}])}var K=function(e){function t(e){var a;Object(n.a)(this,t),a=Object(l.a)(this,Object(c.a)(t).call(this,e));var r=e.target;return a.state={target:r,loaded:!1},a}return Object(s.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){(function(e){var t={q:'target_ref:"'.concat(e,'" AND data_class:"Investigation"')};return y(E.targetsCore,t)})(this.state.target.identifier).then(function(e){console.log(e)})}},{key:"render",value:function(){var e=this.state.target;return o.a.createElement("div",null,o.a.createElement(H,{model:e}),o.a.createElement(G,{model:e}))}}]),t}(o.a.Component);function H(e){var t=e.model,a=t.display_name,n=t.title,r=t.image_url,l=a||n;return o.a.createElement("div",{className:"target-header"},o.a.createElement("img",{src:r}),o.a.createElement("h1",null," ",l," Data Archive "))}function G(e){var t=e.model,a=t.display_description,n=t.target_description,r=a||n;return o.a.createElement("h3",{itemProp:"description",className:"resource-description"},r)}var Q=function(e){function t(e){var a;Object(n.a)(this,t),a=Object(l.a)(this,Object(c.a)(t).call(this,e));var r=e.mission;return a.state={mission:r,loaded:!1},a}return Object(s.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.state.mission;return o.a.createElement("div",null,o.a.createElement(X,{model:e}),o.a.createElement(Y,{model:e}))}}]),t}(o.a.Component);function X(e){var t=e.model,a=t.display_name,n=t.title,r=t.image_url,l=a||n;return o.a.createElement("div",{className:"mission-header"},o.a.createElement("img",{src:r}),o.a.createElement("h1",null," ",l," Data Archive "))}function Y(e){var t=e.model,a=t.display_description,n=t.investigation_description,r=a||n;return o.a.createElement("h3",{itemProp:"description",className:"resource-description"},r)}var Z=function(e){function t(e){var a;Object(n.a)(this,t),a=Object(l.a)(this,Object(c.a)(t).call(this,e));var r=e.spacecraft;return a.state={spacecraft:r,loaded:!1},a}return Object(s.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.state.spacecraft;return o.a.createElement("div",null,o.a.createElement($,{model:e}),o.a.createElement(ee,{model:e}))}}]),t}(o.a.Component);function $(e){var t=e.model,a=t.display_name,n=t.title,r=t.image_url,l=a||n;return o.a.createElement("div",{className:"spacecraft-header"},o.a.createElement("img",{src:r}),o.a.createElement("h1",null," ",l," Data Archive "))}function ee(e){var t=e.model,a=t.display_description,n=t.instrument_host_description,r=a||n;return o.a.createElement("h3",{itemProp:"description",className:"resource-description"},r)}var te=function(e){function t(e){var a;Object(n.a)(this,t),a=Object(l.a)(this,Object(c.a)(t).call(this,e));var r=e.instrument;return a.state={instrument:r,loaded:!1},a}return Object(s.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.state.instrument;return o.a.createElement("div",null,o.a.createElement(ae,{model:e}),o.a.createElement(ne,{model:e}))}}]),t}(o.a.Component);function ae(e){var t=e.model,a=t.display_name,n=t.title,r=t.image_url,l=a||n;return o.a.createElement("div",{className:"instrument-header"},o.a.createElement("img",{src:r}),o.a.createElement("h1",null," ",l," Data Archive "))}function ne(e){var t=e.model,a=t.display_description,n=t.instrument_description,r=a||n;return o.a.createElement("h3",{itemProp:"description",className:"resource-description"},r)}function re(e){var t=e?e.split("::"):[null,null],a=Object(u.a)(t,2),n=a[0],r=a[1];if(!n)return new Promise(function(e,t){return t(new Error("Expected mission parameter"))});var l=n.replace(/:/g,"\\:");return j([{url:E.missionsCore,params:{q:'identifier:"'.concat(l,'" AND data_class:"Investigation"')}},{url:E.missionsWeb,params:{q:'logical_identifier:"'.concat(l).concat(r?"\\:\\:"+r:"",'"')}}])}function le(e){var t=e?e.split("::"):[null,null],a=Object(u.a)(t,2),n=a[0],r=a[1];if(!n)return new Promise(function(e,t){return t(new Error("Expected spacecraft parameter"))});var l=n.replace(/:/g,"\\:");return j([{url:E.spacecraftCore,params:{q:'identifier:"'.concat(l,'" AND data_class:"Instrument_Host"')}},{url:E.spacecraftWeb,params:{q:'logical_identifier:"'.concat(l).concat(r?"\\:\\:"+r:"",'"')}}])}function ce(e){var t=e?e.split("::"):[null,null],a=Object(u.a)(t,2),n=a[0],r=a[1];if(!n)return new Promise(function(e,t){return t(new Error("Expected instrument parameter"))});var l=n.replace(/:/g,"\\:");return j([{url:E.instrumentsCore,params:{q:'identifier:"'.concat(l,'" AND data_class:"Instrument"')}},{url:E.instrumentsWeb,params:{q:'logical_identifier:"'.concat(l).concat(r?"\\:\\:"+r:"",'"')}}])}var se=["dataset","target","instrument","mission","spacecraft"],ie=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(l.a)(this,Object(c.a)(t).call(this,e))).state={error:null,loaded:!1,model:null},a}return Object(s.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){for(var e=this,t=new URLSearchParams(window.location.search),a=function(){var a=r[n],l=t.get(a);if(l)return e.setState({type:a}),function(e,t){var a=function(){return new Promise(function(e,t){return t(new k("Invalid lookup"))})};switch(e){case"dataset":a=O;break;case"target":a=J;break;case"mission":a=re;break;case"instrument":a=ce;break;case"spacecraft":a=le}return a(t)}(a,l).then(function(t){0===t.length?e.setState({error:new k("No ".concat(a," found for lidvid ").concat(l))}):t.length>1?e.setState({error:new k("More than one ".concat(a," found for lidvid ").concat(l))}):(console.log(t),e.setState({model:t,loaded:!0}))},function(t){e.setState({error:t})}),"break"},n=0,r=se;n<r.length;n++){if("break"===a())break}}},{key:"render",value:function(){var e=this.state,t=e.error,a=e.loaded,n=e.type,r=e.model;return t?o.a.createElement(k,{error:t}):a?"dataset"===n?o.a.createElement(S,{dataset:r}):"target"===n?o.a.createElement(K,{target:r}):"instrument"===n?o.a.createElement(te,{instrument:r}):"mission"===n?o.a.createElement(Q,{mission:r}):"spacecraft"===n?o.a.createElement(Z,{spacecraft:r}):o.a.createElement(k,{error:new k("Couldn't render anything")}):o.a.createElement(oe,null)}}]),t}(o.a.Component);function oe(){return o.a.createElement("div",{className:"lds-ring"},o.a.createElement("div",null),o.a.createElement("div",null),o.a.createElement("div",null),o.a.createElement("div",null))}Object(m.render)(o.a.createElement(ie,null),document.getElementById("root"))}},[[19,1,2]]]);
//# sourceMappingURL=main.aee6c3f6.chunk.js.map